ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"ov7670.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Core/Src/ov7670.c"
  19              		.section	.text.ov7670_write,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	ov7670_write:
  26              	.LVL0:
  27              	.LFB155:
   1:Core/Src/ov7670.c **** /*
   2:Core/Src/ov7670.c ****  * ov7670.c
   3:Core/Src/ov7670.c ****  *
   4:Core/Src/ov7670.c ****  *  Created on: 2017/08/25
   5:Core/Src/ov7670.c ****  *      Author: take-iwiw
   6:Core/Src/ov7670.c ****  */
   7:Core/Src/ov7670.c **** #include <stdio.h>
   8:Core/Src/ov7670.c **** #include "main.h"
   9:Core/Src/ov7670.c **** #include "stm32h7xx_hal.h"
  10:Core/Src/ov7670.c **** #include "common.h"
  11:Core/Src/ov7670.c **** #include "ov7670.h"
  12:Core/Src/ov7670.c **** #include "ov7670Config.h"
  13:Core/Src/ov7670.c **** #include "ov7670Reg.h"
  14:Core/Src/ov7670.c **** 
  15:Core/Src/ov7670.c **** 
  16:Core/Src/ov7670.c **** 
  17:Core/Src/ov7670.c **** /*** Internal Static Variables ***/
  18:Core/Src/ov7670.c **** static DCMI_HandleTypeDef *sp_hdcmi;
  19:Core/Src/ov7670.c **** static DMA_HandleTypeDef  *sp_hdma_dcmi;
  20:Core/Src/ov7670.c **** static I2C_HandleTypeDef  *sp_hi2c;
  21:Core/Src/ov7670.c **** static uint32_t    s_destAddressForContiuousMode;
  22:Core/Src/ov7670.c **** static void (* s_cbHsync)(uint32_t h);
  23:Core/Src/ov7670.c **** static void (* s_cbVsync)(uint32_t v);
  24:Core/Src/ov7670.c **** static uint32_t s_currentH;
  25:Core/Src/ov7670.c **** static uint32_t s_currentV;
  26:Core/Src/ov7670.c **** 
  27:Core/Src/ov7670.c **** /*** Internal Function Declarations ***/
  28:Core/Src/ov7670.c **** static RET ov7670_write(uint8_t regAddr, uint8_t data);
  29:Core/Src/ov7670.c **** static RET ov7670_read(uint8_t regAddr, uint8_t *data);
  30:Core/Src/ov7670.c **** 
  31:Core/Src/ov7670.c **** 
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 2


  32:Core/Src/ov7670.c **** extern UART_HandleTypeDef huart1;
  33:Core/Src/ov7670.c **** extern uint8_t pictureTaken;
  34:Core/Src/ov7670.c **** 
  35:Core/Src/ov7670.c **** /*** External Function Defines ***/
  36:Core/Src/ov7670.c **** RET ov7670_init(DCMI_HandleTypeDef *p_hdcmi, DMA_HandleTypeDef *p_hdma_dcmi, I2C_HandleTypeDef *p_h
  37:Core/Src/ov7670.c **** {
  38:Core/Src/ov7670.c ****   sp_hdcmi     = p_hdcmi;
  39:Core/Src/ov7670.c ****   sp_hdma_dcmi = p_hdma_dcmi;
  40:Core/Src/ov7670.c ****   sp_hi2c      = p_hi2c;
  41:Core/Src/ov7670.c ****   s_destAddressForContiuousMode = 0;
  42:Core/Src/ov7670.c **** 
  43:Core/Src/ov7670.c ****   if (CAM_Number == 1){
  44:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM1_EN_GPIO_Port, CAM1_EN_Pin, GPIO_PIN_SET);
  45:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM1_RST_GPIO_Port, CAM1_RST_Pin, GPIO_PIN_RESET);
  46:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM1_RST_GPIO_Port, CAM1_RST_Pin, GPIO_PIN_SET);
  47:Core/Src/ov7670.c **** 
  48:Core/Src/ov7670.c ****     
  49:Core/Src/ov7670.c ****   }
  50:Core/Src/ov7670.c ****   if (CAM_Number == 2){
  51:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM2_EN_GPIO_Port, CAM2_EN_Pin, GPIO_PIN_SET);
  52:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM2_RST_GPIO_Port, CAM2_RST_Pin, GPIO_PIN_RESET);
  53:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM2_RST_GPIO_Port, CAM2_RST_Pin, GPIO_PIN_SET);
  54:Core/Src/ov7670.c ****   }
  55:Core/Src/ov7670.c **** 
  56:Core/Src/ov7670.c **** 
  57:Core/Src/ov7670.c ****   ov7670_write(0x12, 0x80);  // RESET
  58:Core/Src/ov7670.c **** 
  59:Core/Src/ov7670.c ****   uint8_t buffer[4];
  60:Core/Src/ov7670.c ****   ov7670_read(0x0b, buffer);
  61:Core/Src/ov7670.c ****   // printf("[OV7670] dev id = %02X\n", buffer[0]);
  62:Core/Src/ov7670.c **** 
  63:Core/Src/ov7670.c **** 
  64:Core/Src/ov7670.c ****   return RET_OK;
  65:Core/Src/ov7670.c **** }
  66:Core/Src/ov7670.c **** 
  67:Core/Src/ov7670.c **** RET ov7670_config(uint32_t mode)
  68:Core/Src/ov7670.c **** {
  69:Core/Src/ov7670.c **** 
  70:Core/Src/ov7670.c ****   ov7670_stopCap();
  71:Core/Src/ov7670.c ****   ov7670_write(0x12, 0x80);  // RESET
  72:Core/Src/ov7670.c ****   for(int i = 0; OV7670_reg[i][0] != REG_BATT; i++) {
  73:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
  74:Core/Src/ov7670.c ****   }
  75:Core/Src/ov7670.c ****   return RET_OK;
  76:Core/Src/ov7670.c **** }
  77:Core/Src/ov7670.c **** 
  78:Core/Src/ov7670.c **** RET ov7670_startCap(uint32_t capMode, uint32_t destAddress)
  79:Core/Src/ov7670.c **** {
  80:Core/Src/ov7670.c ****  pictureTaken = 0;  
  81:Core/Src/ov7670.c ****   ov7670_stopCap();
  82:Core/Src/ov7670.c ****   if (capMode == OV7670_CAP_CONTINUOUS) {
  83:Core/Src/ov7670.c ****     /* note: continuous mode automatically invokes DCMI, but DMA needs to be invoked manually */
  84:Core/Src/ov7670.c ****     s_destAddressForContiuousMode = destAddress;
  85:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_CONTINUOUS, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA
  86:Core/Src/ov7670.c ****   } else if (capMode == OV7670_CAP_SINGLE_FRAME) {
  87:Core/Src/ov7670.c ****     s_destAddressForContiuousMode = 0;
  88:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_SNAPSHOT, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA_H
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 3


  89:Core/Src/ov7670.c ****     
  90:Core/Src/ov7670.c ****     // HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_SNAPSHOT, destAddress, 10);
  91:Core/Src/ov7670.c ****   }
  92:Core/Src/ov7670.c ****   return RET_OK;
  93:Core/Src/ov7670.c **** }
  94:Core/Src/ov7670.c **** 
  95:Core/Src/ov7670.c **** RET ov7670_stopCap()
  96:Core/Src/ov7670.c **** {
  97:Core/Src/ov7670.c ****   HAL_DCMI_Stop(sp_hdcmi);
  98:Core/Src/ov7670.c **** //  HAL_Delay(30);
  99:Core/Src/ov7670.c ****   return RET_OK;
 100:Core/Src/ov7670.c **** }
 101:Core/Src/ov7670.c **** 
 102:Core/Src/ov7670.c **** void ov7670_registerCallback(void (*cbHsync)(uint32_t h), void (*cbVsync)(uint32_t v))
 103:Core/Src/ov7670.c **** {
 104:Core/Src/ov7670.c ****   s_cbHsync = cbHsync;
 105:Core/Src/ov7670.c ****   s_cbVsync = cbVsync;
 106:Core/Src/ov7670.c **** }
 107:Core/Src/ov7670.c **** 
 108:Core/Src/ov7670.c **** 
 109:Core/Src/ov7670.c **** void HAL_DCMI_FrameEventCallback(DCMI_HandleTypeDef *hdcmi)
 110:Core/Src/ov7670.c **** {
 111:Core/Src/ov7670.c ****   //HAL_GPIO_TogglePin(MSIZI_TRIGGER_GPIO_Port, MSIZI_TRIGGER_Pin);
 112:Core/Src/ov7670.c ****   //  printf("FRAME %d\n", HAL_GetTick());
 113:Core/Src/ov7670.c ****   if(s_cbVsync)s_cbVsync(s_currentV);
 114:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 115:Core/Src/ov7670.c ****     HAL_DMA_Start_IT(hdcmi->DMA_Handle, (uint32_t)&hdcmi->Instance->DR, s_destAddressForContiuousMo
 116:Core/Src/ov7670.c ****   }
 117:Core/Src/ov7670.c ****   s_currentV++;
 118:Core/Src/ov7670.c ****   s_currentH = 0;
 119:Core/Src/ov7670.c ****   pictureTaken = 1;
 120:Core/Src/ov7670.c **** }
 121:Core/Src/ov7670.c **** 
 122:Core/Src/ov7670.c **** void HAL_DCMI_VsyncEventCallback(DCMI_HandleTypeDef *hdcmi)
 123:Core/Src/ov7670.c **** {
 124:Core/Src/ov7670.c **** //  printf("VSYNC %d\n", HAL_GetTick());
 125:Core/Src/ov7670.c ****  HAL_DMA_Start_IT(hdcmi->DMA_Handle, (uint32_t)&hdcmi->Instance->DR, s_destAddressForContiuousMode,
 126:Core/Src/ov7670.c **** }
 127:Core/Src/ov7670.c **** 
 128:Core/Src/ov7670.c **** void HAL_DCMI_LineEventCallback(DCMI_HandleTypeDef *hdcmi)
 129:Core/Src/ov7670.c **** {
 130:Core/Src/ov7670.c **** //  printf("HSYNC %d\n", HAL_GetTick());
 131:Core/Src/ov7670.c ****  if(s_cbHsync)s_cbHsync(s_currentH);
 132:Core/Src/ov7670.c ****  s_currentH++;
 133:Core/Src/ov7670.c **** }
 134:Core/Src/ov7670.c **** 
 135:Core/Src/ov7670.c **** /*** Internal Function Defines ***/
 136:Core/Src/ov7670.c **** static RET ov7670_write(uint8_t regAddr, uint8_t data)
 137:Core/Src/ov7670.c **** {
  28              		.loc 1 137 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 137 1 is_stmt 0 view .LVU1
  33 0000 00B5     		push	{lr}
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 4


  36 0002 87B0     		sub	sp, sp, #28
  37              		.cfi_def_cfa_offset 32
  38 0004 0246     		mov	r2, r0
  39 0006 8DF81710 		strb	r1, [sp, #23]
 138:Core/Src/ov7670.c ****   HAL_StatusTypeDef ret;
  40              		.loc 1 138 3 is_stmt 1 view .LVU2
 139:Core/Src/ov7670.c ****   do {
  41              		.loc 1 139 3 view .LVU3
 140:Core/Src/ov7670.c ****     ret = HAL_I2C_Mem_Write(sp_hi2c, SLAVE_ADDR, regAddr, I2C_MEMADD_SIZE_8BIT, &data, 1, HAL_MAX_D
  42              		.loc 1 140 5 view .LVU4
  43              		.loc 1 140 11 is_stmt 0 view .LVU5
  44 000a 4FF0FF33 		mov	r3, #-1
  45 000e 0293     		str	r3, [sp, #8]
  46 0010 0123     		movs	r3, #1
  47 0012 0193     		str	r3, [sp, #4]
  48 0014 0DF11701 		add	r1, sp, #23
  49              	.LVL1:
  50              		.loc 1 140 11 view .LVU6
  51 0018 0091     		str	r1, [sp]
  52 001a 4221     		movs	r1, #66
  53              	.LVL2:
  54              		.loc 1 140 11 view .LVU7
  55 001c 0348     		ldr	r0, .L3
  56              	.LVL3:
  57              		.loc 1 140 11 view .LVU8
  58 001e 0068     		ldr	r0, [r0]
  59 0020 FFF7FEFF 		bl	HAL_I2C_Mem_Write
  60              	.LVL4:
 139:Core/Src/ov7670.c ****   do {
  61              		.loc 1 139 6 is_stmt 1 view .LVU9
 141:Core/Src/ov7670.c ****   } while (ret != HAL_OK && 0);
 142:Core/Src/ov7670.c ****   return ret;
  62              		.loc 1 142 3 view .LVU10
 143:Core/Src/ov7670.c **** }
  63              		.loc 1 143 1 is_stmt 0 view .LVU11
  64 0024 07B0     		add	sp, sp, #28
  65              		.cfi_def_cfa_offset 4
  66              		@ sp needed
  67 0026 5DF804FB 		ldr	pc, [sp], #4
  68              	.L4:
  69 002a 00BF     		.align	2
  70              	.L3:
  71 002c 00000000 		.word	sp_hi2c
  72              		.cfi_endproc
  73              	.LFE155:
  75              		.section	.text.ov7670_read,"ax",%progbits
  76              		.align	1
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	ov7670_read:
  82              	.LVL5:
  83              	.LFB156:
 144:Core/Src/ov7670.c **** 
 145:Core/Src/ov7670.c **** static RET ov7670_read(uint8_t regAddr, uint8_t *data)
 146:Core/Src/ov7670.c **** {
  84              		.loc 1 146 1 is_stmt 1 view -0
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 5


  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 8
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		.loc 1 146 1 is_stmt 0 view .LVU13
  89 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  90              		.cfi_def_cfa_offset 20
  91              		.cfi_offset 4, -20
  92              		.cfi_offset 5, -16
  93              		.cfi_offset 6, -12
  94              		.cfi_offset 7, -8
  95              		.cfi_offset 14, -4
  96 0002 85B0     		sub	sp, sp, #20
  97              		.cfi_def_cfa_offset 40
  98 0004 0D46     		mov	r5, r1
  99 0006 8DF80F00 		strb	r0, [sp, #15]
 147:Core/Src/ov7670.c ****   HAL_StatusTypeDef ret;
 100              		.loc 1 147 3 is_stmt 1 view .LVU14
 148:Core/Src/ov7670.c ****   do {
 101              		.loc 1 148 3 view .LVU15
 149:Core/Src/ov7670.c ****     // HAL_I2C_Mem_Read doesn't work (because of SCCB protocol(doesn't have ack))? */
 150:Core/Src/ov7670.c ****   //  ret = HAL_I2C_Mem_Read(sp_hi2c, SLAVE_ADDR, regAddr, I2C_MEMADD_SIZE_8BIT, data, 1, HAL_MAX_D
 151:Core/Src/ov7670.c ****     ret = HAL_I2C_Master_Transmit(sp_hi2c, SLAVE_ADDR, &regAddr, 1, HAL_MAX_DELAY);
 102              		.loc 1 151 5 view .LVU16
 103              		.loc 1 151 11 is_stmt 0 view .LVU17
 104 000a 0B4E     		ldr	r6, .L7
 105 000c 4FF0FF37 		mov	r7, #-1
 106 0010 0097     		str	r7, [sp]
 107 0012 0123     		movs	r3, #1
 108 0014 0DF10F02 		add	r2, sp, #15
 109 0018 4221     		movs	r1, #66
 110              	.LVL6:
 111              		.loc 1 151 11 view .LVU18
 112 001a 3068     		ldr	r0, [r6]
 113              	.LVL7:
 114              		.loc 1 151 11 view .LVU19
 115 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 116              	.LVL8:
 117              		.loc 1 151 11 view .LVU20
 118 0020 0446     		mov	r4, r0
 119              	.LVL9:
 152:Core/Src/ov7670.c ****     ret |= HAL_I2C_Master_Receive(sp_hi2c, SLAVE_ADDR, data, 1, HAL_MAX_DELAY);
 120              		.loc 1 152 5 is_stmt 1 view .LVU21
 121              		.loc 1 152 12 is_stmt 0 view .LVU22
 122 0022 0097     		str	r7, [sp]
 123 0024 0123     		movs	r3, #1
 124 0026 2A46     		mov	r2, r5
 125 0028 4221     		movs	r1, #66
 126 002a 3068     		ldr	r0, [r6]
 127 002c FFF7FEFF 		bl	HAL_I2C_Master_Receive
 128              	.LVL10:
 129              		.loc 1 152 9 discriminator 1 view .LVU23
 130 0030 2043     		orrs	r0, r0, r4
 131              	.LVL11:
 148:Core/Src/ov7670.c ****   do {
 132              		.loc 1 148 6 is_stmt 1 view .LVU24
 153:Core/Src/ov7670.c ****   } while (ret != HAL_OK && 0);
 154:Core/Src/ov7670.c ****   return ret;
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 6


 133              		.loc 1 154 3 view .LVU25
 155:Core/Src/ov7670.c **** }
 134              		.loc 1 155 1 is_stmt 0 view .LVU26
 135 0032 C0B2     		uxtb	r0, r0
 136              		.loc 1 155 1 view .LVU27
 137 0034 05B0     		add	sp, sp, #20
 138              		.cfi_def_cfa_offset 20
 139              		@ sp needed
 140 0036 F0BD     		pop	{r4, r5, r6, r7, pc}
 141              	.LVL12:
 142              	.L8:
 143              		.loc 1 155 1 view .LVU28
 144              		.align	2
 145              	.L7:
 146 0038 00000000 		.word	sp_hi2c
 147              		.cfi_endproc
 148              	.LFE156:
 150              		.section	.text.ov7670_init,"ax",%progbits
 151              		.align	1
 152              		.global	ov7670_init
 153              		.syntax unified
 154              		.thumb
 155              		.thumb_func
 157              	ov7670_init:
 158              	.LVL13:
 159              	.LFB147:
  37:Core/Src/ov7670.c ****   sp_hdcmi     = p_hdcmi;
 160              		.loc 1 37 1 is_stmt 1 view -0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 8
 163              		@ frame_needed = 0, uses_anonymous_args = 0
  37:Core/Src/ov7670.c ****   sp_hdcmi     = p_hdcmi;
 164              		.loc 1 37 1 is_stmt 0 view .LVU30
 165 0000 30B5     		push	{r4, r5, lr}
 166              		.cfi_def_cfa_offset 12
 167              		.cfi_offset 4, -12
 168              		.cfi_offset 5, -8
 169              		.cfi_offset 14, -4
 170 0002 83B0     		sub	sp, sp, #12
 171              		.cfi_def_cfa_offset 24
 172 0004 1C46     		mov	r4, r3
  38:Core/Src/ov7670.c ****   sp_hdma_dcmi = p_hdma_dcmi;
 173              		.loc 1 38 3 is_stmt 1 view .LVU31
  38:Core/Src/ov7670.c ****   sp_hdma_dcmi = p_hdma_dcmi;
 174              		.loc 1 38 16 is_stmt 0 view .LVU32
 175 0006 194B     		ldr	r3, .L15
 176              	.LVL14:
  38:Core/Src/ov7670.c ****   sp_hdma_dcmi = p_hdma_dcmi;
 177              		.loc 1 38 16 view .LVU33
 178 0008 1860     		str	r0, [r3]
  39:Core/Src/ov7670.c ****   sp_hi2c      = p_hi2c;
 179              		.loc 1 39 3 is_stmt 1 view .LVU34
  39:Core/Src/ov7670.c ****   sp_hi2c      = p_hi2c;
 180              		.loc 1 39 16 is_stmt 0 view .LVU35
 181 000a 194B     		ldr	r3, .L15+4
 182 000c 1960     		str	r1, [r3]
  40:Core/Src/ov7670.c ****   s_destAddressForContiuousMode = 0;
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 7


 183              		.loc 1 40 3 is_stmt 1 view .LVU36
  40:Core/Src/ov7670.c ****   s_destAddressForContiuousMode = 0;
 184              		.loc 1 40 16 is_stmt 0 view .LVU37
 185 000e 194B     		ldr	r3, .L15+8
 186 0010 1A60     		str	r2, [r3]
  41:Core/Src/ov7670.c **** 
 187              		.loc 1 41 3 is_stmt 1 view .LVU38
  41:Core/Src/ov7670.c **** 
 188              		.loc 1 41 33 is_stmt 0 view .LVU39
 189 0012 194B     		ldr	r3, .L15+12
 190 0014 0022     		movs	r2, #0
 191              	.LVL15:
  41:Core/Src/ov7670.c **** 
 192              		.loc 1 41 33 view .LVU40
 193 0016 1A60     		str	r2, [r3]
  43:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM1_EN_GPIO_Port, CAM1_EN_Pin, GPIO_PIN_SET);
 194              		.loc 1 43 3 is_stmt 1 view .LVU41
  43:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM1_EN_GPIO_Port, CAM1_EN_Pin, GPIO_PIN_SET);
 195              		.loc 1 43 6 is_stmt 0 view .LVU42
 196 0018 012C     		cmp	r4, #1
 197 001a 0CD0     		beq	.L13
 198              	.LVL16:
 199              	.L10:
  50:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM2_EN_GPIO_Port, CAM2_EN_Pin, GPIO_PIN_SET);
 200              		.loc 1 50 3 is_stmt 1 view .LVU43
  50:Core/Src/ov7670.c ****     // HAL_GPIO_WritePin(CAM2_EN_GPIO_Port, CAM2_EN_Pin, GPIO_PIN_SET);
 201              		.loc 1 50 6 is_stmt 0 view .LVU44
 202 001c 022C     		cmp	r4, #2
 203 001e 17D0     		beq	.L14
 204              	.LVL17:
 205              	.L11:
  57:Core/Src/ov7670.c **** 
 206              		.loc 1 57 3 is_stmt 1 view .LVU45
 207 0020 8021     		movs	r1, #128
 208 0022 1220     		movs	r0, #18
 209 0024 FFF7FEFF 		bl	ov7670_write
 210              	.LVL18:
  59:Core/Src/ov7670.c ****   ov7670_read(0x0b, buffer);
 211              		.loc 1 59 3 view .LVU46
  60:Core/Src/ov7670.c ****   // printf("[OV7670] dev id = %02X\n", buffer[0]);
 212              		.loc 1 60 3 view .LVU47
 213 0028 01A9     		add	r1, sp, #4
 214 002a 0B20     		movs	r0, #11
 215 002c FFF7FEFF 		bl	ov7670_read
 216              	.LVL19:
  64:Core/Src/ov7670.c **** }
 217              		.loc 1 64 3 view .LVU48
  65:Core/Src/ov7670.c **** 
 218              		.loc 1 65 1 is_stmt 0 view .LVU49
 219 0030 0020     		movs	r0, #0
 220 0032 03B0     		add	sp, sp, #12
 221              		.cfi_remember_state
 222              		.cfi_def_cfa_offset 12
 223              		@ sp needed
 224 0034 30BD     		pop	{r4, r5, pc}
 225              	.LVL20:
 226              	.L13:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 8


 227              		.cfi_restore_state
  45:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM1_RST_GPIO_Port, CAM1_RST_Pin, GPIO_PIN_SET);
 228              		.loc 1 45 5 is_stmt 1 view .LVU50
 229 0036 114D     		ldr	r5, .L15+16
 230 0038 4FF48051 		mov	r1, #4096
 231              	.LVL21:
  45:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM1_RST_GPIO_Port, CAM1_RST_Pin, GPIO_PIN_SET);
 232              		.loc 1 45 5 is_stmt 0 view .LVU51
 233 003c 2846     		mov	r0, r5
 234              	.LVL22:
  45:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM1_RST_GPIO_Port, CAM1_RST_Pin, GPIO_PIN_SET);
 235              		.loc 1 45 5 view .LVU52
 236 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 237              	.LVL23:
  46:Core/Src/ov7670.c **** 
 238              		.loc 1 46 5 is_stmt 1 view .LVU53
 239 0042 0122     		movs	r2, #1
 240 0044 4FF48051 		mov	r1, #4096
 241 0048 2846     		mov	r0, r5
 242 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 243              	.LVL24:
 244 004e E5E7     		b	.L10
 245              	.L14:
  52:Core/Src/ov7670.c ****     HAL_GPIO_WritePin(CAM2_RST_GPIO_Port, CAM2_RST_Pin, GPIO_PIN_SET);
 246              		.loc 1 52 5 view .LVU54
 247 0050 0A4C     		ldr	r4, .L15+16
 248 0052 0022     		movs	r2, #0
 249 0054 4FF48041 		mov	r1, #16384
 250 0058 2046     		mov	r0, r4
 251 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
 252              	.LVL25:
  53:Core/Src/ov7670.c ****   }
 253              		.loc 1 53 5 view .LVU55
 254 005e 0122     		movs	r2, #1
 255 0060 4FF48041 		mov	r1, #16384
 256 0064 2046     		mov	r0, r4
 257 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 258              	.LVL26:
 259 006a D9E7     		b	.L11
 260              	.L16:
 261              		.align	2
 262              	.L15:
 263 006c 00000000 		.word	sp_hdcmi
 264 0070 00000000 		.word	sp_hdma_dcmi
 265 0074 00000000 		.word	sp_hi2c
 266 0078 00000000 		.word	s_destAddressForContiuousMode
 267 007c 00080258 		.word	1476528128
 268              		.cfi_endproc
 269              	.LFE147:
 271              		.section	.text.ov7670_stopCap,"ax",%progbits
 272              		.align	1
 273              		.global	ov7670_stopCap
 274              		.syntax unified
 275              		.thumb
 276              		.thumb_func
 278              	ov7670_stopCap:
 279              	.LFB150:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 9


  96:Core/Src/ov7670.c ****   HAL_DCMI_Stop(sp_hdcmi);
 280              		.loc 1 96 1 view -0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 0, uses_anonymous_args = 0
 284 0000 08B5     		push	{r3, lr}
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 3, -8
 287              		.cfi_offset 14, -4
  97:Core/Src/ov7670.c **** //  HAL_Delay(30);
 288              		.loc 1 97 3 view .LVU57
 289 0002 034B     		ldr	r3, .L19
 290 0004 1868     		ldr	r0, [r3]
 291 0006 FFF7FEFF 		bl	HAL_DCMI_Stop
 292              	.LVL27:
  99:Core/Src/ov7670.c **** }
 293              		.loc 1 99 3 view .LVU58
 100:Core/Src/ov7670.c **** 
 294              		.loc 1 100 1 is_stmt 0 view .LVU59
 295 000a 0020     		movs	r0, #0
 296 000c 08BD     		pop	{r3, pc}
 297              	.L20:
 298 000e 00BF     		.align	2
 299              	.L19:
 300 0010 00000000 		.word	sp_hdcmi
 301              		.cfi_endproc
 302              	.LFE150:
 304              		.section	.text.ov7670_config,"ax",%progbits
 305              		.align	1
 306              		.global	ov7670_config
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	ov7670_config:
 312              	.LVL28:
 313              	.LFB148:
  68:Core/Src/ov7670.c **** 
 314              		.loc 1 68 1 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
  68:Core/Src/ov7670.c **** 
 318              		.loc 1 68 1 is_stmt 0 view .LVU61
 319 0000 10B5     		push	{r4, lr}
 320              		.cfi_def_cfa_offset 8
 321              		.cfi_offset 4, -8
 322              		.cfi_offset 14, -4
  70:Core/Src/ov7670.c ****   ov7670_write(0x12, 0x80);  // RESET
 323              		.loc 1 70 3 is_stmt 1 view .LVU62
 324 0002 FFF7FEFF 		bl	ov7670_stopCap
 325              	.LVL29:
  71:Core/Src/ov7670.c ****   for(int i = 0; OV7670_reg[i][0] != REG_BATT; i++) {
 326              		.loc 1 71 3 view .LVU63
 327 0006 8021     		movs	r1, #128
 328 0008 1220     		movs	r0, #18
 329 000a FFF7FEFF 		bl	ov7670_write
 330              	.LVL30:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 10


  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 331              		.loc 1 72 3 view .LVU64
 332              	.LBB2:
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 333              		.loc 1 72 7 view .LVU65
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 334              		.loc 1 72 11 is_stmt 0 view .LVU66
 335 000e 0024     		movs	r4, #0
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 336              		.loc 1 72 3 view .LVU67
 337 0010 06E0     		b	.L22
 338              	.LVL31:
 339              	.L23:
  73:Core/Src/ov7670.c ****   }
 340              		.loc 1 73 5 is_stmt 1 view .LVU68
  73:Core/Src/ov7670.c ****   }
 341              		.loc 1 73 49 is_stmt 0 view .LVU69
 342 0012 074B     		ldr	r3, .L25
 343 0014 03EB4403 		add	r3, r3, r4, lsl #1
  73:Core/Src/ov7670.c ****   }
 344              		.loc 1 73 5 view .LVU70
 345 0018 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 346 001a FFF7FEFF 		bl	ov7670_write
 347              	.LVL32:
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 348              		.loc 1 72 49 is_stmt 1 discriminator 3 view .LVU71
 349 001e 0134     		adds	r4, r4, #1
 350              	.LVL33:
 351              	.L22:
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 352              		.loc 1 72 35 discriminator 1 view .LVU72
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 353              		.loc 1 72 31 is_stmt 0 discriminator 1 view .LVU73
 354 0020 034B     		ldr	r3, .L25
 355 0022 13F81400 		ldrb	r0, [r3, r4, lsl #1]	@ zero_extendqisi2
  72:Core/Src/ov7670.c ****     ov7670_write(OV7670_reg[i][0], OV7670_reg[i][1]);
 356              		.loc 1 72 35 discriminator 1 view .LVU74
 357 0026 FF28     		cmp	r0, #255
 358 0028 F3D1     		bne	.L23
 359              	.LBE2:
  75:Core/Src/ov7670.c **** }
 360              		.loc 1 75 3 is_stmt 1 view .LVU75
  76:Core/Src/ov7670.c **** 
 361              		.loc 1 76 1 is_stmt 0 view .LVU76
 362 002a 0020     		movs	r0, #0
 363 002c 10BD     		pop	{r4, pc}
 364              	.LVL34:
 365              	.L26:
  76:Core/Src/ov7670.c **** 
 366              		.loc 1 76 1 view .LVU77
 367 002e 00BF     		.align	2
 368              	.L25:
 369 0030 00000000 		.word	OV7670_reg
 370              		.cfi_endproc
 371              	.LFE148:
 373              		.section	.text.ov7670_startCap,"ax",%progbits
 374              		.align	1
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 11


 375              		.global	ov7670_startCap
 376              		.syntax unified
 377              		.thumb
 378              		.thumb_func
 380              	ov7670_startCap:
 381              	.LVL35:
 382              	.LFB149:
  79:Core/Src/ov7670.c ****  pictureTaken = 0;  
 383              		.loc 1 79 1 is_stmt 1 view -0
 384              		.cfi_startproc
 385              		@ args = 0, pretend = 0, frame = 0
 386              		@ frame_needed = 0, uses_anonymous_args = 0
  79:Core/Src/ov7670.c ****  pictureTaken = 0;  
 387              		.loc 1 79 1 is_stmt 0 view .LVU79
 388 0000 38B5     		push	{r3, r4, r5, lr}
 389              		.cfi_def_cfa_offset 16
 390              		.cfi_offset 3, -16
 391              		.cfi_offset 4, -12
 392              		.cfi_offset 5, -8
 393              		.cfi_offset 14, -4
 394 0002 0446     		mov	r4, r0
 395 0004 0D46     		mov	r5, r1
  80:Core/Src/ov7670.c ****   ov7670_stopCap();
 396              		.loc 1 80 2 is_stmt 1 view .LVU80
  80:Core/Src/ov7670.c ****   ov7670_stopCap();
 397              		.loc 1 80 15 is_stmt 0 view .LVU81
 398 0006 104B     		ldr	r3, .L33
 399 0008 0022     		movs	r2, #0
 400 000a 1A70     		strb	r2, [r3]
  81:Core/Src/ov7670.c ****   if (capMode == OV7670_CAP_CONTINUOUS) {
 401              		.loc 1 81 3 is_stmt 1 view .LVU82
 402 000c FFF7FEFF 		bl	ov7670_stopCap
 403              	.LVL36:
  82:Core/Src/ov7670.c ****     /* note: continuous mode automatically invokes DCMI, but DMA needs to be invoked manually */
 404              		.loc 1 82 3 view .LVU83
  82:Core/Src/ov7670.c ****     /* note: continuous mode automatically invokes DCMI, but DMA needs to be invoked manually */
 405              		.loc 1 82 6 is_stmt 0 view .LVU84
 406 0010 1CB1     		cbz	r4, .L31
  86:Core/Src/ov7670.c ****     s_destAddressForContiuousMode = 0;
 407              		.loc 1 86 10 is_stmt 1 view .LVU85
  86:Core/Src/ov7670.c ****     s_destAddressForContiuousMode = 0;
 408              		.loc 1 86 13 is_stmt 0 view .LVU86
 409 0012 012C     		cmp	r4, #1
 410 0014 0CD0     		beq	.L32
 411              	.L29:
  92:Core/Src/ov7670.c **** }
 412              		.loc 1 92 3 is_stmt 1 view .LVU87
  93:Core/Src/ov7670.c **** 
 413              		.loc 1 93 1 is_stmt 0 view .LVU88
 414 0016 0020     		movs	r0, #0
 415 0018 38BD     		pop	{r3, r4, r5, pc}
 416              	.LVL37:
 417              	.L31:
  84:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_CONTINUOUS, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA
 418              		.loc 1 84 5 is_stmt 1 view .LVU89
  84:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_CONTINUOUS, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA
 419              		.loc 1 84 35 is_stmt 0 view .LVU90
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 12


 420 001a 0C4B     		ldr	r3, .L33+4
 421 001c 1D60     		str	r5, [r3]
  85:Core/Src/ov7670.c ****   } else if (capMode == OV7670_CAP_SINGLE_FRAME) {
 422              		.loc 1 85 5 is_stmt 1 view .LVU91
 423 001e 4FF41643 		mov	r3, #38400
 424 0022 2A46     		mov	r2, r5
 425 0024 0021     		movs	r1, #0
 426 0026 0A48     		ldr	r0, .L33+8
 427 0028 0068     		ldr	r0, [r0]
 428 002a FFF7FEFF 		bl	HAL_DCMI_Start_DMA
 429              	.LVL38:
 430 002e F2E7     		b	.L29
 431              	.L32:
  87:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_SNAPSHOT, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA_H
 432              		.loc 1 87 5 view .LVU92
  87:Core/Src/ov7670.c ****     HAL_DCMI_Start_DMA(sp_hdcmi, DCMI_MODE_SNAPSHOT, destAddress, OV7670_QVGA_WIDTH * OV7670_QVGA_H
 433              		.loc 1 87 35 is_stmt 0 view .LVU93
 434 0030 064B     		ldr	r3, .L33+4
 435 0032 0022     		movs	r2, #0
 436 0034 1A60     		str	r2, [r3]
  88:Core/Src/ov7670.c ****     
 437              		.loc 1 88 5 is_stmt 1 view .LVU94
 438 0036 4FF41643 		mov	r3, #38400
 439 003a 2A46     		mov	r2, r5
 440 003c 0221     		movs	r1, #2
 441 003e 0448     		ldr	r0, .L33+8
 442 0040 0068     		ldr	r0, [r0]
 443 0042 FFF7FEFF 		bl	HAL_DCMI_Start_DMA
 444              	.LVL39:
 445 0046 E6E7     		b	.L29
 446              	.L34:
 447              		.align	2
 448              	.L33:
 449 0048 00000000 		.word	pictureTaken
 450 004c 00000000 		.word	s_destAddressForContiuousMode
 451 0050 00000000 		.word	sp_hdcmi
 452              		.cfi_endproc
 453              	.LFE149:
 455              		.section	.text.ov7670_registerCallback,"ax",%progbits
 456              		.align	1
 457              		.global	ov7670_registerCallback
 458              		.syntax unified
 459              		.thumb
 460              		.thumb_func
 462              	ov7670_registerCallback:
 463              	.LVL40:
 464              	.LFB151:
 103:Core/Src/ov7670.c ****   s_cbHsync = cbHsync;
 465              		.loc 1 103 1 view -0
 466              		.cfi_startproc
 467              		@ args = 0, pretend = 0, frame = 0
 468              		@ frame_needed = 0, uses_anonymous_args = 0
 469              		@ link register save eliminated.
 104:Core/Src/ov7670.c ****   s_cbVsync = cbVsync;
 470              		.loc 1 104 3 view .LVU96
 104:Core/Src/ov7670.c ****   s_cbVsync = cbVsync;
 471              		.loc 1 104 13 is_stmt 0 view .LVU97
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 13


 472 0000 024B     		ldr	r3, .L36
 473 0002 1860     		str	r0, [r3]
 105:Core/Src/ov7670.c **** }
 474              		.loc 1 105 3 is_stmt 1 view .LVU98
 105:Core/Src/ov7670.c **** }
 475              		.loc 1 105 13 is_stmt 0 view .LVU99
 476 0004 024B     		ldr	r3, .L36+4
 477 0006 1960     		str	r1, [r3]
 106:Core/Src/ov7670.c **** 
 478              		.loc 1 106 1 view .LVU100
 479 0008 7047     		bx	lr
 480              	.L37:
 481 000a 00BF     		.align	2
 482              	.L36:
 483 000c 00000000 		.word	s_cbHsync
 484 0010 00000000 		.word	s_cbVsync
 485              		.cfi_endproc
 486              	.LFE151:
 488              		.section	.text.HAL_DCMI_FrameEventCallback,"ax",%progbits
 489              		.align	1
 490              		.global	HAL_DCMI_FrameEventCallback
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 495              	HAL_DCMI_FrameEventCallback:
 496              	.LVL41:
 497              	.LFB152:
 110:Core/Src/ov7670.c ****   //HAL_GPIO_TogglePin(MSIZI_TRIGGER_GPIO_Port, MSIZI_TRIGGER_Pin);
 498              		.loc 1 110 1 is_stmt 1 view -0
 499              		.cfi_startproc
 500              		@ args = 0, pretend = 0, frame = 0
 501              		@ frame_needed = 0, uses_anonymous_args = 0
 110:Core/Src/ov7670.c ****   //HAL_GPIO_TogglePin(MSIZI_TRIGGER_GPIO_Port, MSIZI_TRIGGER_Pin);
 502              		.loc 1 110 1 is_stmt 0 view .LVU102
 503 0000 10B5     		push	{r4, lr}
 504              		.cfi_def_cfa_offset 8
 505              		.cfi_offset 4, -8
 506              		.cfi_offset 14, -4
 507 0002 0446     		mov	r4, r0
 113:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 508              		.loc 1 113 3 is_stmt 1 view .LVU103
 113:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 509              		.loc 1 113 6 is_stmt 0 view .LVU104
 510 0004 0D4B     		ldr	r3, .L43
 511 0006 1B68     		ldr	r3, [r3]
 113:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 512              		.loc 1 113 5 view .LVU105
 513 0008 13B1     		cbz	r3, .L39
 113:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 514              		.loc 1 113 16 is_stmt 1 discriminator 1 view .LVU106
 515 000a 0D4A     		ldr	r2, .L43+4
 516 000c 1068     		ldr	r0, [r2]
 517              	.LVL42:
 113:Core/Src/ov7670.c ****   if(s_destAddressForContiuousMode != 0) {
 518              		.loc 1 113 16 is_stmt 0 discriminator 1 view .LVU107
 519 000e 9847     		blx	r3
 520              	.LVL43:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 14


 521              	.L39:
 114:Core/Src/ov7670.c ****     HAL_DMA_Start_IT(hdcmi->DMA_Handle, (uint32_t)&hdcmi->Instance->DR, s_destAddressForContiuousMo
 522              		.loc 1 114 3 is_stmt 1 view .LVU108
 114:Core/Src/ov7670.c ****     HAL_DMA_Start_IT(hdcmi->DMA_Handle, (uint32_t)&hdcmi->Instance->DR, s_destAddressForContiuousMo
 523              		.loc 1 114 36 is_stmt 0 view .LVU109
 524 0010 0C4B     		ldr	r3, .L43+8
 525 0012 1A68     		ldr	r2, [r3]
 114:Core/Src/ov7670.c ****     HAL_DMA_Start_IT(hdcmi->DMA_Handle, (uint32_t)&hdcmi->Instance->DR, s_destAddressForContiuousMo
 526              		.loc 1 114 5 view .LVU110
 527 0014 52B9     		cbnz	r2, .L42
 528              	.L40:
 117:Core/Src/ov7670.c ****   s_currentH = 0;
 529              		.loc 1 117 3 is_stmt 1 view .LVU111
 117:Core/Src/ov7670.c ****   s_currentH = 0;
 530              		.loc 1 117 13 is_stmt 0 view .LVU112
 531 0016 0A4A     		ldr	r2, .L43+4
 532 0018 1368     		ldr	r3, [r2]
 533 001a 0133     		adds	r3, r3, #1
 534 001c 1360     		str	r3, [r2]
 118:Core/Src/ov7670.c ****   pictureTaken = 1;
 535              		.loc 1 118 3 is_stmt 1 view .LVU113
 118:Core/Src/ov7670.c ****   pictureTaken = 1;
 536              		.loc 1 118 14 is_stmt 0 view .LVU114
 537 001e 0A4B     		ldr	r3, .L43+12
 538 0020 0022     		movs	r2, #0
 539 0022 1A60     		str	r2, [r3]
 119:Core/Src/ov7670.c **** }
 540              		.loc 1 119 3 is_stmt 1 view .LVU115
 119:Core/Src/ov7670.c **** }
 541              		.loc 1 119 16 is_stmt 0 view .LVU116
 542 0024 094B     		ldr	r3, .L43+16
 543 0026 0122     		movs	r2, #1
 544 0028 1A70     		strb	r2, [r3]
 120:Core/Src/ov7670.c **** 
 545              		.loc 1 120 1 view .LVU117
 546 002a 10BD     		pop	{r4, pc}
 547              	.LVL44:
 548              	.L42:
 115:Core/Src/ov7670.c ****   }
 549              		.loc 1 115 5 is_stmt 1 view .LVU118
 115:Core/Src/ov7670.c ****   }
 550              		.loc 1 115 57 is_stmt 0 view .LVU119
 551 002c 2168     		ldr	r1, [r4]
 115:Core/Src/ov7670.c ****   }
 552              		.loc 1 115 5 view .LVU120
 553 002e 4FF41643 		mov	r3, #38400
 554 0032 2831     		adds	r1, r1, #40
 555 0034 A06C     		ldr	r0, [r4, #72]
 556 0036 FFF7FEFF 		bl	HAL_DMA_Start_IT
 557              	.LVL45:
 558 003a ECE7     		b	.L40
 559              	.L44:
 560              		.align	2
 561              	.L43:
 562 003c 00000000 		.word	s_cbVsync
 563 0040 00000000 		.word	s_currentV
 564 0044 00000000 		.word	s_destAddressForContiuousMode
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 15


 565 0048 00000000 		.word	s_currentH
 566 004c 00000000 		.word	pictureTaken
 567              		.cfi_endproc
 568              	.LFE152:
 570              		.section	.text.HAL_DCMI_VsyncEventCallback,"ax",%progbits
 571              		.align	1
 572              		.global	HAL_DCMI_VsyncEventCallback
 573              		.syntax unified
 574              		.thumb
 575              		.thumb_func
 577              	HAL_DCMI_VsyncEventCallback:
 578              	.LVL46:
 579              	.LFB153:
 123:Core/Src/ov7670.c **** //  printf("VSYNC %d\n", HAL_GetTick());
 580              		.loc 1 123 1 is_stmt 1 view -0
 581              		.cfi_startproc
 582              		@ args = 0, pretend = 0, frame = 0
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 123:Core/Src/ov7670.c **** //  printf("VSYNC %d\n", HAL_GetTick());
 584              		.loc 1 123 1 is_stmt 0 view .LVU122
 585 0000 08B5     		push	{r3, lr}
 586              		.cfi_def_cfa_offset 8
 587              		.cfi_offset 3, -8
 588              		.cfi_offset 14, -4
 125:Core/Src/ov7670.c **** }
 589              		.loc 1 125 2 is_stmt 1 view .LVU123
 125:Core/Src/ov7670.c **** }
 590              		.loc 1 125 54 is_stmt 0 view .LVU124
 591 0002 0168     		ldr	r1, [r0]
 125:Core/Src/ov7670.c **** }
 592              		.loc 1 125 2 view .LVU125
 593 0004 4FF41643 		mov	r3, #38400
 594 0008 034A     		ldr	r2, .L47
 595 000a 1268     		ldr	r2, [r2]
 596 000c 2831     		adds	r1, r1, #40
 597 000e 806C     		ldr	r0, [r0, #72]
 598              	.LVL47:
 125:Core/Src/ov7670.c **** }
 599              		.loc 1 125 2 view .LVU126
 600 0010 FFF7FEFF 		bl	HAL_DMA_Start_IT
 601              	.LVL48:
 126:Core/Src/ov7670.c **** 
 602              		.loc 1 126 1 view .LVU127
 603 0014 08BD     		pop	{r3, pc}
 604              	.L48:
 605 0016 00BF     		.align	2
 606              	.L47:
 607 0018 00000000 		.word	s_destAddressForContiuousMode
 608              		.cfi_endproc
 609              	.LFE153:
 611              		.section	.text.HAL_DCMI_LineEventCallback,"ax",%progbits
 612              		.align	1
 613              		.global	HAL_DCMI_LineEventCallback
 614              		.syntax unified
 615              		.thumb
 616              		.thumb_func
 618              	HAL_DCMI_LineEventCallback:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 16


 619              	.LVL49:
 620              	.LFB154:
 129:Core/Src/ov7670.c **** //  printf("HSYNC %d\n", HAL_GetTick());
 621              		.loc 1 129 1 is_stmt 1 view -0
 622              		.cfi_startproc
 623              		@ args = 0, pretend = 0, frame = 0
 624              		@ frame_needed = 0, uses_anonymous_args = 0
 129:Core/Src/ov7670.c **** //  printf("HSYNC %d\n", HAL_GetTick());
 625              		.loc 1 129 1 is_stmt 0 view .LVU129
 626 0000 08B5     		push	{r3, lr}
 627              		.cfi_def_cfa_offset 8
 628              		.cfi_offset 3, -8
 629              		.cfi_offset 14, -4
 131:Core/Src/ov7670.c ****  s_currentH++;
 630              		.loc 1 131 2 is_stmt 1 view .LVU130
 131:Core/Src/ov7670.c ****  s_currentH++;
 631              		.loc 1 131 5 is_stmt 0 view .LVU131
 632 0002 054B     		ldr	r3, .L52
 633 0004 1B68     		ldr	r3, [r3]
 131:Core/Src/ov7670.c ****  s_currentH++;
 634              		.loc 1 131 4 view .LVU132
 635 0006 13B1     		cbz	r3, .L50
 131:Core/Src/ov7670.c ****  s_currentH++;
 636              		.loc 1 131 15 is_stmt 1 discriminator 1 view .LVU133
 637 0008 044A     		ldr	r2, .L52+4
 638 000a 1068     		ldr	r0, [r2]
 639              	.LVL50:
 131:Core/Src/ov7670.c ****  s_currentH++;
 640              		.loc 1 131 15 is_stmt 0 discriminator 1 view .LVU134
 641 000c 9847     		blx	r3
 642              	.LVL51:
 643              	.L50:
 132:Core/Src/ov7670.c **** }
 644              		.loc 1 132 2 is_stmt 1 view .LVU135
 132:Core/Src/ov7670.c **** }
 645              		.loc 1 132 12 is_stmt 0 view .LVU136
 646 000e 034A     		ldr	r2, .L52+4
 647 0010 1368     		ldr	r3, [r2]
 648 0012 0133     		adds	r3, r3, #1
 649 0014 1360     		str	r3, [r2]
 133:Core/Src/ov7670.c **** 
 650              		.loc 1 133 1 view .LVU137
 651 0016 08BD     		pop	{r3, pc}
 652              	.L53:
 653              		.align	2
 654              	.L52:
 655 0018 00000000 		.word	s_cbHsync
 656 001c 00000000 		.word	s_currentH
 657              		.cfi_endproc
 658              	.LFE154:
 660              		.section	.bss.s_currentV,"aw",%nobits
 661              		.align	2
 664              	s_currentV:
 665 0000 00000000 		.space	4
 666              		.section	.bss.s_currentH,"aw",%nobits
 667              		.align	2
 670              	s_currentH:
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 17


 671 0000 00000000 		.space	4
 672              		.section	.bss.s_cbVsync,"aw",%nobits
 673              		.align	2
 676              	s_cbVsync:
 677 0000 00000000 		.space	4
 678              		.section	.bss.s_cbHsync,"aw",%nobits
 679              		.align	2
 682              	s_cbHsync:
 683 0000 00000000 		.space	4
 684              		.section	.bss.s_destAddressForContiuousMode,"aw",%nobits
 685              		.align	2
 688              	s_destAddressForContiuousMode:
 689 0000 00000000 		.space	4
 690              		.section	.bss.sp_hi2c,"aw",%nobits
 691              		.align	2
 694              	sp_hi2c:
 695 0000 00000000 		.space	4
 696              		.section	.bss.sp_hdma_dcmi,"aw",%nobits
 697              		.align	2
 700              	sp_hdma_dcmi:
 701 0000 00000000 		.space	4
 702              		.section	.bss.sp_hdcmi,"aw",%nobits
 703              		.align	2
 706              	sp_hdcmi:
 707 0000 00000000 		.space	4
 708              		.global	OV7670_reg
 709              		.section	.rodata.OV7670_reg,"a"
 710              		.align	2
 713              	OV7670_reg:
 714 0000 1214     		.ascii	"\022\024"
 715 0002 8C00     		.ascii	"\214\000"
 716 0004 40D0     		.ascii	"@\320"
 717 0006 3A0C     		.ascii	":\014"
 718 0008 3D80     		.ascii	"=\200"
 719 000a B084     		.ascii	"\260\204"
 720 000c 0C04     		.ascii	"\014\004"
 721 000e 3E19     		.ascii	">\031"
 722 0010 703A     		.ascii	"p:"
 723 0012 7135     		.ascii	"q5"
 724 0014 7211     		.ascii	"r\021"
 725 0016 73F1     		.ascii	"s\361"
 726 0018 1716     		.ascii	"\027\026"
 727 001a 1804     		.ascii	"\030\004"
 728 001c 3280     		.ascii	"2\200"
 729 001e 1903     		.ascii	"\031\003"
 730 0020 1A7B     		.ascii	"\032{"
 731 0022 030A     		.ascii	"\003\012"
 732 0024 4F80     		.ascii	"O\200"
 733 0026 5080     		.ascii	"P\200"
 734 0028 5100     		.ascii	"Q\000"
 735 002a 5222     		.ascii	"R\""
 736 002c 535E     		.ascii	"S^"
 737 002e 5480     		.ascii	"T\200"
 738 0030 589E     		.ascii	"X\236"
 739 0032 4138     		.ascii	"A8"
 740 0034 7B10     		.ascii	"{\020"
 741 0036 7C1E     		.ascii	"|\036"
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 18


 742 0038 7D35     		.ascii	"}5"
 743 003a 7E5A     		.ascii	"~Z"
 744 003c 7F69     		.ascii	"\177i"
 745 003e 8076     		.ascii	"\200v"
 746 0040 8182     		.ascii	"\201\202"
 747 0042 828C     		.ascii	"\202\214"
 748 0044 8396     		.ascii	"\203\226"
 749 0046 84A0     		.ascii	"\204\240"
 750 0048 85B4     		.ascii	"\205\264"
 751 004a 86C3     		.ascii	"\206\303"
 752 004c 87D7     		.ascii	"\207\327"
 753 004e 88E6     		.ascii	"\210\346"
 754 0050 89F4     		.ascii	"\211\364"
 755 0052 7A10     		.ascii	"z\020"
 756 0054 1100     		.ascii	"\021\000"
 757 0056 1E31     		.ascii	"\0361"
 758 0058 FFFF     		.ascii	"\377\377"
 759              		.text
 760              	.Letext0:
 761              		.file 2 "C:/Users/Timika/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-t
 762              		.file 3 "C:/Users/Timika/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-t
 763              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7b0xx.h"
 764              		.file 5 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 765              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 766              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 767              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dcmi.h"
 768              		.file 9 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_i2c.h"
 769              		.file 10 "Core/Inc/ov7670Reg.h"
 770              		.file 11 "Core/Inc/common.h"
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 ov7670.c
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:20     .text.ov7670_write:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:25     .text.ov7670_write:00000000 ov7670_write
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:71     .text.ov7670_write:0000002c $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:694    .bss.sp_hi2c:00000000 sp_hi2c
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:76     .text.ov7670_read:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:81     .text.ov7670_read:00000000 ov7670_read
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:146    .text.ov7670_read:00000038 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:151    .text.ov7670_init:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:157    .text.ov7670_init:00000000 ov7670_init
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:263    .text.ov7670_init:0000006c $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:706    .bss.sp_hdcmi:00000000 sp_hdcmi
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:700    .bss.sp_hdma_dcmi:00000000 sp_hdma_dcmi
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:688    .bss.s_destAddressForContiuousMode:00000000 s_destAddressForContiuousMode
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:272    .text.ov7670_stopCap:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:278    .text.ov7670_stopCap:00000000 ov7670_stopCap
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:300    .text.ov7670_stopCap:00000010 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:305    .text.ov7670_config:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:311    .text.ov7670_config:00000000 ov7670_config
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:369    .text.ov7670_config:00000030 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:713    .rodata.OV7670_reg:00000000 OV7670_reg
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:374    .text.ov7670_startCap:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:380    .text.ov7670_startCap:00000000 ov7670_startCap
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:449    .text.ov7670_startCap:00000048 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:456    .text.ov7670_registerCallback:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:462    .text.ov7670_registerCallback:00000000 ov7670_registerCallback
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:483    .text.ov7670_registerCallback:0000000c $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:682    .bss.s_cbHsync:00000000 s_cbHsync
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:676    .bss.s_cbVsync:00000000 s_cbVsync
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:489    .text.HAL_DCMI_FrameEventCallback:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:495    .text.HAL_DCMI_FrameEventCallback:00000000 HAL_DCMI_FrameEventCallback
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:562    .text.HAL_DCMI_FrameEventCallback:0000003c $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:664    .bss.s_currentV:00000000 s_currentV
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:670    .bss.s_currentH:00000000 s_currentH
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:571    .text.HAL_DCMI_VsyncEventCallback:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:577    .text.HAL_DCMI_VsyncEventCallback:00000000 HAL_DCMI_VsyncEventCallback
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:607    .text.HAL_DCMI_VsyncEventCallback:00000018 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:612    .text.HAL_DCMI_LineEventCallback:00000000 $t
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:618    .text.HAL_DCMI_LineEventCallback:00000000 HAL_DCMI_LineEventCallback
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:655    .text.HAL_DCMI_LineEventCallback:00000018 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:661    .bss.s_currentV:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:667    .bss.s_currentH:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:673    .bss.s_cbVsync:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:679    .bss.s_cbHsync:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:685    .bss.s_destAddressForContiuousMode:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:691    .bss.sp_hi2c:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:697    .bss.sp_hdma_dcmi:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:703    .bss.sp_hdcmi:00000000 $d
C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s:710    .rodata.OV7670_reg:00000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
HAL_GPIO_WritePin
HAL_DCMI_Stop
ARM GAS  C:\Users\Timika\AppData\Local\Temp\ccVJ9kO2.s 			page 20


HAL_DCMI_Start_DMA
pictureTaken
HAL_DMA_Start_IT
